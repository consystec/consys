"use strict";const fs=require("fs"),webpack=require("webpack");module.exports=function(e){const o=e.config,a=e.package,s=e.packagePath,n=process.argv[2];let t=a.version.split(".");if(["nova","evo","bug","test"].indexOf(n)<0)throw'Versao "'+n+'" nao encontrada';if("test"!=n){let e=parseInt(t[0]),o=parseInt(t[1]),r=parseInt(t[2]);switch(n){case"nova":e++,o=0,r=0;break;case"evo":default:o++,r=0;break;case"bug":r++}t=e+"."+o+"."+r,a.version=t,console.log("Gerando versao: "+t),fs.writeFile(s,JSON.stringify(a,null,2),(function(e){e&&console.log("erro",e)}))}else console.log("Gerando versao de teste");webpack(o,(function(){console.log("Compactacao webpack finalizada")}))};