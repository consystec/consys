"use strict";const fs=require("fs"),webpack=require("webpack");module.exports=function(e){const a=e.config,o=e.package,t=e.packagePath,s=process.argv[2];let n=o.test.split(".");if(["nova","evo","bug"].indexOf(s)<0)throw'Versao "'+s+'" nao encontrada';let c=parseInt(n[0]),r=parseInt(n[1]),i=parseInt(n[2]);switch(s){case"nova":c++,r=0,i=0;break;case"evo":default:r++,i=0;break;case"bug":i++}n=c+"."+r+"."+i,o.test=n,console.log("Gerando versao teste: "+n),fs.writeFile(t,JSON.stringify(o,null,2),(function(e){e&&console.log("erro",e)})),webpack(a,(function(){console.log("Compactacao webpack finalizada")}))};